(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-031e"],{"/cac":function(t,e,n){"use strict";n.r(e);var a=n("stgD"),r=(n("ZOF2"),n("JCNI")),o=n("fp7A"),i=n("xAVR"),l={name:"editor",components:{mavonEditor:a.mavonEditor},data:function(){return{id:this.$route.params.id,title:"",form:{origin:"",title:"",shortcut:"",specialId:"",categoryId:"",content:"",img:""},originOpts:[{value:0,label:"原创"},{value:1,label:"转载"},{value:2,label:"翻译"}],specailOpts:[],categoryOpts:[],value:"",dynamicTags:[],inputVisible:!1,inputValue:""}},mounted:function(){var t=this.id;null!=t&&void 0!=t&&""!=t&&this.fetchData({id:t}),this.getSpecialList(),this.getCateList()},methods:{handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)},getSpecialList:function(t){var e=this;Object(o.b)(t).then(function(t){200==t.code&&(e.specailOpts=t.data.data)})},getCateList:function(t){var e=this;Object(i.b)(t).then(function(t){200==t.code&&(e.categoryOpts=t.data.data)})},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=this.inputValue;t&&this.dynamicTags.push(t),this.inputVisible=!1,this.inputValue=""},onSubmit:function(){var t=this;void 0!=this.form.title&&void 0!=this.form.content&&""!=this.form.title&&""!=this.form.content&&Object(r.a)(this.form).then(function(e){console.log(e),t.returnBack()})},returnBack:function(){this.$router.push({name:"Article"})},fetchData:function(t){var e=this;console.log("fetchData!"),Object(r.c)(t).then(function(t){console.log(t),e.form=t.data})},$imgAdd:function(t,e){var n=this,a=new FormData;a.append("file",e),Object(r.e)(a).then(function(e){console.log(e),n.$refs.md.$img2Url(t,"/blog"+e.data)})}}},c=(n("J0m3"),n("KHd+")),s=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:4}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{attrs:{placeholder:"类型"},model:{value:t.form.origin,callback:function(e){t.$set(t.form,"origin",e)},expression:"form.origin"}},t._l(t.originOpts,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),n("el-col",{attrs:{span:14}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),t._v(" "),n("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:4}},[n("el-button",{attrs:{type:"danger"},on:{click:t.onSubmit}},[t._v("发布文章")]),t._v(" "),n("el-button",{on:{click:t.returnBack}},[t._v("返回")])],1)],1),t._v(" "),n("el-row",[n("el-form-item",{attrs:{label:"摘要"}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{placeholder:"请输入摘要"},model:{value:t.form.shortcut,callback:function(e){t.$set(t.form,"shortcut",e)},expression:"form.shortcut"}})],1)],1)],1),t._v(" "),n("el-row",{staticStyle:{"margin-top":"3px","margin-bottom":"3px"},attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"专栏"}},[n("el-select",{attrs:{placeholder:"发布专栏"},model:{value:t.form.specialId,callback:function(e){t.$set(t.form,"specialId",e)},expression:"form.specialId"}},t._l(t.specailOpts,function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"分类"}},[n("el-select",{attrs:{placeholder:"分类"},model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId",e)},expression:"form.categoryId"}},t._l(t.categoryOpts,function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"题图"}},[n("el-input",{attrs:{placeholder:"请输入题图"},model:{value:t.form.img,callback:function(e){t.$set(t.form,"img",e)},expression:"form.img"}})],1)],1)],1),t._v(" "),n("div",{staticStyle:{width:"94%"},attrs:{id:"editor"}},[n("mavon-editor",{ref:"md",staticStyle:{height:"100%"},attrs:{ishljs:!0},on:{imgAdd:t.$imgAdd},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)],1)},[],!1,null,null,null);s.options.__file="add.vue";e.default=s.exports},J0m3:function(t,e,n){"use strict";var a=n("ZBFr");n.n(a).a},JCNI:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return c});var a=n("t3Un");function r(t){return Object(a.a)({url:"/admin/article/save",method:"post",params:t})}function o(t){return Object(a.a)({url:"/admin/article/del",method:"post",params:t})}function i(t){return Object(a.a)({url:"/article/detail",method:"get",params:t})}function l(t){return Object(a.a)({url:"/article/list",method:"get",params:t})}function c(t){return Object(a.a)({url:"/file/upload",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}},ZBFr:function(t,e,n){},fp7A:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i});var a=n("t3Un");function r(t){return Object(a.a)({url:"/special/list",method:"get",params:t})}function o(t){return Object(a.a)({url:"/admin/special/save",method:"post",params:t})}function i(t){return Object(a.a)({url:"/admin/special/del",method:"post",params:t})}},xAVR:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i});var a=n("t3Un");function r(t){return Object(a.a)({url:"/category/list",method:"get",params:t})}function o(t){return Object(a.a)({url:"/admin/category/save",method:"post",params:t})}function i(t){return Object(a.a)({url:"/admin/category/del",method:"post",params:t})}}}]);